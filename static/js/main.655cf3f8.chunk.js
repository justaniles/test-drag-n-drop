(this["webpackJsonptest-drag-n-drop"]=this["webpackJsonptest-drag-n-drop"]||[]).push([[0],{19:function(e,n,t){},20:function(e,n,t){},36:function(e,n,t){"use strict";t.r(n);var c=t(0),a=t(1),r=t.n(a),i=t(12),o=t.n(i),s=(t(19),t(7)),l=t(8),d=(t(20),t(13)),u=function(e){var n=e.items,t=e.onSortEnd,r=Object(a.useRef)(null),i=Object(a.useRef)(t);return Object(a.useEffect)((function(){i.current=t}),[t]),Object(a.useEffect)((function(){var e=r.current;if(e){var n=d.a.create(e,{animation:150,onEnd:function(e){var n=e.oldIndex,t=e.newIndex,c=i.current;c&&void 0!==n&&void 0!==t?c({oldIndex:n,newIndex:t}):console.warn("Param undefined in Sortable.onEnd. callback defined: ".concat(!!c,", oldIndex: ").concat(n,", newIndex: ").concat(t))}});return function(){n.destroy()}}})),Object(c.jsx)("ol",{className:"list",ref:r,children:n.map((function(e){var n=e.displayName,t=e.key;return Object(c.jsx)("li",{className:"list-item",children:Object(c.jsx)("div",{className:"item sortablejs-item",children:n})},t)}))})},b=t(6),f=function(e){var n=e.items,t=e.onSortEnd,r=Object(a.useRef)(null),i=Object(a.useRef)(t);return Object(a.useEffect)((function(){i.current=t}),[t]),Object(a.useEffect)((function(){var e=r.current;if(e){var n=new b.Sortable(e,{draggable:".list-item",sortAnimation:{duration:150},plugins:[b.Plugins.SortAnimation]});return n.on("sortable:stop",(function(e){var n=e.oldIndex,t=e.newIndex,c=i.current;c?c({oldIndex:n,newIndex:t}):console.warn("No onSortEnd callback defined")})),function(){n.destroy()}}}),[]),Object(c.jsx)("ol",{className:"list",ref:r,children:n.map((function(e){var n=e.displayName,t=e.key;return Object(c.jsx)("li",{className:"list-item",children:Object(c.jsx)("div",{className:"item draggablejs-item",children:n})},t)}))})};function j(e){return{key:""+e,displayName:"Item ".concat(e)}}var m=["SortableJS","DraggableJS"];var O=function(){var e=Object(a.useState)(m[0]),n=Object(l.a)(e,2),t=n[0],r=n[1],i=Object(a.useState)((function(){for(var e=[],n=0;n<50;n++)e.push(j(n));return e})),o=Object(l.a)(i,2),d=o[0],b=o[1],O=Object(a.useCallback)((function(e){var n=e.oldIndex,t=e.newIndex;if(console.log("Old index: ".concat(n,", New index: ").concat(t)),n!==t){var c=d[n];if(!c)return void console.warn("Can't find item to move at old index ",n);var a=Object(s.a)(d);a.splice(n,1),a.splice(t,0,c),b(a)}}),[d,b]),v=Object(a.useCallback)((function(){b([].concat(Object(s.a)(d),[j(d.length)]))}),[d,b]),x=Object(a.useCallback)((function(){var e=m.indexOf(t);if(-1===e)return console.warn("Unknown currentView '".concat(t,"'. Defaulting to first view.")),void r(m[0]);var n=(e+1)%m.length;r(m[n])}),[t]);return console.log(d),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsxs)("header",{className:"app-header",children:[Object(c.jsx)("h1",{className:"app-header-current-view",children:t}),Object(c.jsxs)("div",{className:"app-header-right",children:[Object(c.jsx)("button",{className:"button",onClick:x,children:"Switch view"}),Object(c.jsx)("button",{className:"button",onClick:v,children:"Add item"})]})]}),"SortableJS"===t&&Object(c.jsx)(u,{items:d,onSortEnd:O}),"DraggableJS"===t&&Object(c.jsx)(f,{items:d,onSortEnd:O})]})},v=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,37)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,r=n.getLCP,i=n.getTTFB;t(e),c(e),a(e),r(e),i(e)}))};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(O,{})}),document.getElementById("root")),v()}},[[36,1,2]]]);
//# sourceMappingURL=main.655cf3f8.chunk.js.map